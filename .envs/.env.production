# ═══════════════════════════════════════════════════════════════════════════
# ComicWise Production Environment Configuration
# ═══════════════════════════════════════════════════════════════════════════
# Use in production deployments (Vercel, Docker, etc.)
# All REQUIRED variables must be set before deployment.
# ═══════════════════════════════════════════════════════════════════════════

# ═══════════════════════════════════════════════════════════════════════════
# APPLICATION CONFIGURATION
# ═══════════════════════════════════════════════════════════════════════════
NODE_ENV=production
PORT=3000
NEXT_PUBLIC_APP_URL=https://comicwise.com

# ═══════════════════════════════════════════════════════════════════════════
# DATABASE CONFIGURATION (REQUIRED)
# ═══════════════════════════════════════════════════════════════════════════
# Use Neon PostgreSQL or managed database service
# Connection pooling recommended for production
DATABASE_URL=postgresql://user:password@your-db.neon.tech:5432/comicwise?ssl=true&connection_limit=20

# Neon PostgreSQL with connection pooling
NEON_DATABASE_URL=postgresql://user:password@your-db-pooler.neon.tech:6432/comicwise?ssl=true

# ═══════════════════════════════════════════════════════════════════════════
# AUTHENTICATION CONFIGURATION (REQUIRED)
# ═══════════════════════════════════════════════════════════════════════════
# Generate: openssl rand -base64 32 (minimum 32 characters)
AUTH_SECRET=change-me-to-a-secure-random-secret-in-production
AUTH_URL=https://comicwise.com

# ═══════════════════════════════════════════════════════════════════════════
# OAUTH PROVIDERS (Optional but recommended)
# ═══════════════════════════════════════════════════════════════════════════
# Google OAuth
# https://console.cloud.google.com/
# Redirect URI: https://comicwise.com/api/auth/callback/google
AUTH_GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
AUTH_GOOGLE_CLIENT_SECRET=your-google-client-secret

# GitHub OAuth
# https://github.com/settings/developers
# Redirect URI: https://comicwise.com/api/auth/callback/github
AUTH_GITHUB_CLIENT_ID=your-github-client-id
AUTH_GITHUB_CLIENT_SECRET=your-github-client-secret

# ═══════════════════════════════════════════════════════════════════════════
# FILE UPLOAD CONFIGURATION (REQUIRED)
# ═══════════════════════════════════════════════════════════════════════════
# Recommended: imagekit or cloudinary for production (not local)
UPLOAD_PROVIDER=imagekit

# ImageKit Configuration (recommended for production)
# https://imagekit.io/dashboard/developer/api-keys
IMAGEKIT_PUBLIC_KEY=your-imagekit-public-key
IMAGEKIT_PRIVATE_KEY=your-imagekit-private-key
IMAGEKIT_URL_ENDPOINT=https://ik.imagekit.io/your-account-id

# Cloudinary Configuration (alternative)
# https://cloudinary.com/console/settings/credentials
CLOUDINARY_CLOUD_NAME=your-cloudinary-cloud-name
CLOUDINARY_API_KEY=your-cloudinary-api-key
CLOUDINARY_API_SECRET=your-cloudinary-api-secret

# AWS S3 Configuration (alternative)
# AWS_S3_BUCKET=your-bucket-name
# AWS_S3_REGION=us-east-1
# AWS_ACCESS_KEY_ID=your-aws-access-key
# AWS_SECRET_ACCESS_KEY=your-aws-secret-key

# ═══════════════════════════════════════════════════════════════════════════
# EMAIL CONFIGURATION (REQUIRED)
# ═══════════════════════════════════════════════════════════════════════════
# Use SendGrid, Mailgun, AWS SES, or similar for production
EMAIL_SERVER_HOST=smtp.sendgrid.net
EMAIL_SERVER_PORT=587
EMAIL_SERVER_USER=apikey
EMAIL_SERVER_PASSWORD=your-sendgrid-api-key
EMAIL_FROM=noreply@comicwise.com
EMAIL_SECURE=true

# ═══════════════════════════════════════════════════════════════════════════
# REDIS CONFIGURATION (Recommended for production)
# ═══════════════════════════════════════════════════════════════════════════
# Use Upstash Redis (managed service) or your own Redis instance
REDIS_HOST=your-redis-host.upstash.io
REDIS_PORT=6379
REDIS_PASSWORD=your-redis-password
REDIS_DB=0
REDIS_TLS_ENABLED=true
REDIS_URL=redis://:your-redis-password@your-redis-host.upstash.io:6379

# Upstash Redis REST API
UPSTASH_REDIS_REST_URL=https://your-upstash-url.upstash.io
UPSTASH_REDIS_REST_TOKEN=your-upstash-token

# ═══════════════════════════════════════════════════════════════════════════
# BACKGROUND JOBS CONFIGURATION (Optional)
# ═══════════════════════════════════════════════════════════════════════════
# Upstash QStash for scheduled/async jobs
# https://console.upstash.com/qstash
QSTASH_TOKEN=your-qstash-token
QSTASH_CURRENT_SIGNING_KEY=your-current-signing-key
QSTASH_NEXT_SIGNING_KEY=your-next-signing-key
QSTASH_URL=https://qstash.upstash.io

# ═══════════════════════════════════════════════════════════════════════════
# PGADMIN CONFIGURATION (If running in Docker)
# ═══════════════════════════════════════════════════════════════════════════
PGADMIN_DEFAULT_EMAIL=admin@comicwise.com
PGADMIN_DEFAULT_PASSWORD=change-me-to-strong-password
PGADMIN_CONFIG_PROXY_X_FOR_COUNT=1
PGADMIN_CONFIG_PROXY_X_PROTO_COUNT=1
PGADMIN_CONFIG_PROXY_X_HOST_COUNT=1
PGADMIN_CONFIG_ENHANCED_COOKIE_PROTECTION=True
PGADMIN_CONFIG_COOKIE_DEFAULT_SECURE=True
PGADMIN_CONFIG_COOKIE_SAMESITE=Strict

# ═══════════════════════════════════════════════════════════════════════════
# DEPLOYMENT CHECKLIST
# ═══════════════════════════════════════════════════════════════════════════
# Before deploying to production:
# ✓ Replace all "change-me" and "your-" values with real credentials
# ✓ AUTH_SECRET must be 32+ characters and unique per environment
# ✓ DATABASE_URL must use production database with SSL/TLS
# ✓ REDIS_URL should use managed service with TLS enabled
# ✓ Email provider configured and tested
# ✓ OAuth credentials set up and verified
# ✓ FILE UPLOAD_PROVIDER set to cloud service (not local)
# ✓ All sensitive values stored in environment (not in code)
# ✓ Run security audit: npm audit
# ✓ Test all critical flows before deployment
