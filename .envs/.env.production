# ═══════════════════════════════════════════════════════════════════════════
# ComicWise Production Environment Configuration
# ═══════════════════════════════════════════════════════════════════════════
# Use in production deployments (Vercel, Docker, etc.)
# All REQUIRED variables must be set before deployment.
# ═══════════════════════════════════════════════════════════════════════════

# ═══════════════════════════════════════════════════════════════════════════
# APPLICATION CONFIGURATION
# ═══════════════════════════════════════════════════════════════════════════
NODE_ENV=production
PORT=3000
NEXT_PUBLIC_APP_URL=https://comicwise.com

# ═══════════════════════════════════════════════════════════════════════════
# DATABASE CONFIGURATION (REQUIRED)
# ═══════════════════════════════════════════════════════════════════════════
# Use Neon PostgreSQL or managed database service
# Connection pooling recommended for production
DATABASE_URL="postgresql://<DB_USER>:<DB_PASSWORD>@<DB_HOST>:<DB_PORT>/<DB_NAME>"

# Neon PostgreSQL with connection pooling (from .env if available)
NEON_DATABASE_URL="<REDACTED_NEON_DATABASE_URL>"

# ═══════════════════════════════════════════════════════════════════════════
# AUTHENTICATION CONFIGURATION (REQUIRED)
# ═══════════════════════════════════════════════════════════════════════════
# Generate: openssl rand -base64 32 (minimum 32 characters)
AUTH_SECRET="<REDACTED_AUTH_SECRET>"
AUTH_URL=https://comicwise.com

# ═══════════════════════════════════════════════════════════════════════════
# OAUTH PROVIDERS (Optional but recommended)
# ═══════════════════════════════════════════════════════════════════════════
# Google OAuth
# https://console.cloud.google.com/
# Redirect URI: https://comicwise.com/api/auth/callback/google
AUTH_GOOGLE_CLIENT_ID="<REDACTED_GOOGLE_CLIENT_ID>"
AUTH_GOOGLE_CLIENT_SECRET="<REDACTED_GOOGLE_CLIENT_SECRET>"

# GitHub OAuth
# https://github.com/settings/developers
# Redirect URI: https://comicwise.com/api/auth/callback/github
AUTH_GITHUB_CLIENT_ID="<REDACTED_GITHUB_CLIENT_ID>"
AUTH_GITHUB_CLIENT_SECRET="<REDACTED_GITHUB_CLIENT_SECRET>"

# ═══════════════════════════════════════════════════════════════════════════
# FILE UPLOAD CONFIGURATION (REQUIRED)
# ═══════════════════════════════════════════════════════════════════════════
# Recommended: imagekit or cloudinary for production (not local)
UPLOAD_PROVIDER=imagekit

# ImageKit Configuration (recommended for production)
# https://imagekit.io/dashboard/developer/api-keys
CLOUDINARY_CLOUD_NAME="<REDACTED_CLOUDINARY_CLOUD_NAME>"
CLOUDINARY_API_KEY="<REDACTED_CLOUDINARY_API_KEY>"
CLOUDINARY_API_SECRET="<REDACTED_CLOUDINARY_API_SECRET>"
IMAGEKIT_PUBLIC_KEY="<REDACTED_IMAGEKIT_PUBLIC_KEY>"
IMAGEKIT_PRIVATE_KEY="<REDACTED_IMAGEKIT_PRIVATE_KEY>"
IMAGEKIT_URL_ENDPOINT="<REDACTED_IMAGEKIT_URL_ENDPOINT>"
NEXT_PUBLIC_IMAGEKIT_PUBLIC_KEY="<REDACTED_IMAGEKIT_PUBLIC_KEY>"
NEXT_PUBLIC_IMAGEKIT_URL_ENDPOINT="<REDACTED_IMAGEKIT_URL_ENDPOINT>"

# Cloudinary Configuration (alternative)
# https://cloudinary.com/console/settings/credentials
CLOUDINARY_CLOUD_NAME="<REDACTED_CLOUDINARY_CLOUD_NAME>"
CLOUDINARY_API_KEY="<REDACTED_CLOUDINARY_API_KEY>"
CLOUDINARY_API_SECRET="<REDACTED_CLOUDINARY_API_SECRET>"

# AWS S3 Configuration (alternative)
# AWS_S3_BUCKET=your-bucket-name
# AWS_S3_REGION=us-east-1
# AWS_ACCESS_KEY_ID=your-aws-access-key
# AWS_SECRET_ACCESS_KEY=your-aws-secret-key

# ═══════════════════════════════════════════════════════════════════════════
# EMAIL CONFIGURATION (REQUIRED)
# ═══════════════════════════════════════════════════════════════════════════
# Use SendGrid, Mailgun, AWS SES, or similar for production
EMAIL_SERVER_HOST="<SMTP_HOST>"
EMAIL_SERVER_PORT="<SMTP_PORT>"
EMAIL_SERVER_USER="<REDACTED_EMAIL_USER>"
EMAIL_SERVER_PASSWORD="<REDACTED_EMAIL_PASSWORD>"
EMAIL_FROM="<SENDER_EMAIL>"
EMAIL_SECURE=true

# ═══════════════════════════════════════════════════════════════════════════
# REDIS CONFIGURATION (Recommended for production)
# ═══════════════════════════════════════════════════════════════════════════
# Use Upstash Redis (managed service) or your own Redis instance
REDIS_HOST="<REDIS_HOST>"
REDIS_PORT="<REDIS_PORT>"
REDIS_PASSWORD="<REDACTED_REDIS_PASSWORD>"
REDIS_DB="<REDIS_DB>"
REDIS_TLS_ENABLED="<REDIS_TLS_ENABLED>"
REDIS_URL="<REDACTED_REDIS_URL>"

# Upstash Redis REST API
UPSTASH_REDIS_REST_URL="<UPSTASH_REDIS_REST_URL>"
UPSTASH_REDIS_REST_TOKEN="<REDACTED_UPSTASH_TOKEN>"

# ═══════════════════════════════════════════════════════════════════════════
# BACKGROUND JOBS CONFIGURATION (Optional)
# ═══════════════════════════════════════════════════════════════════════════
# Upstash QStash for scheduled/async jobs
# https://console.upstash.com/qstash
QSTASH_TOKEN="<REDACTED_QSTASH_TOKEN>"
QSTASH_CURRENT_SIGNING_KEY="<REDACTED_QSTASH_CURRENT_SIGNING_KEY>"
QSTASH_NEXT_SIGNING_KEY="<REDACTED_QSTASH_NEXT_SIGNING_KEY>"
QSTASH_URL="<QSTASH_URL>"

# ═══════════════════════════════════════════════════════════════════════════
# PGADMIN CONFIGURATION (If running in Docker)
# ═══════════════════════════════════════════════════════════════════════════
PGADMIN_DEFAULT_EMAIL=admin@comicwise.com
PGADMIN_DEFAULT_PASSWORD=change-me-to-strong-password
PGADMIN_CONFIG_PROXY_X_FOR_COUNT=1
PGADMIN_CONFIG_PROXY_X_PROTO_COUNT=1
PGADMIN_CONFIG_PROXY_X_HOST_COUNT=1
PGADMIN_CONFIG_ENHANCED_COOKIE_PROTECTION=True
PGADMIN_CONFIG_COOKIE_DEFAULT_SECURE=True
PGADMIN_CONFIG_COOKIE_SAMESITE=Strict

# ═══════════════════════════════════════════════════════════════════════════
# DEPLOYMENT CHECKLIST
# ═══════════════════════════════════════════════════════════════════════════
# Before deploying to production:
# ✓ Replace all "change-me" and "your-" values with real credentials
# ✓ AUTH_SECRET must be 32+ characters and unique per environment
# ✓ DATABASE_URL must use production database with SSL/TLS
# ✓ REDIS_URL should use managed service with TLS enabled
# ✓ Email provider configured and tested
# ✓ OAuth credentials set up and verified
# ✓ FILE UPLOAD_PROVIDER set to cloud service (not local)
# ✓ All sensitive values stored in environment (not in code)
# ✓ Run security audit: npm audit
# ✓ Test all critical flows before deployment
