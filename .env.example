# Environment variables example for ComicWise
# Copy this to .env and fill with real secrets before running locally.

# General
NODE_ENV=development
PORT=3000
NEXT_PUBLIC_APP_URL=http://localhost:3000
LOG_LEVEL=info

# Database
DATABASE_URL=postgresql://user:password@localhost:5432/comicwise
NEON_DATABASE_URL=

# Auth / Sessions
AUTH_SECRET=change_me_to_a_long_random_value
AUTH_TRUST_HOST=localhost

# OAuth
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=

# Email / Resend / SMTP
RESEND_API_KEY=
EMAIL_FROM="noreply@example.com"
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=

# Redis / Cache
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_TLS_ENABLED=false
UPSTASH_REDIS_REST_URL=
UPSTASH_REDIS_REST_TOKEN=

# Upload / Image Providers
UPLOAD_PROVIDER=local # options: local|imagekit|cloudinary|s3
IMAGEKIT_PUBLIC_KEY=
IMAGEKIT_PRIVATE_KEY=
IMAGEKIT_URL_ENDPOINT=
CLOUDINARY_CLOUD_NAME=
CLOUDINARY_API_KEY=
CLOUDINARY_API_SECRET=
AWS_REGION=
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_S3_BUCKET_NAME=

# QStash / Webhooks
QSTASH_TOKEN=
QSTASH_CURRENT_SIGNING_KEY=
QSTASH_NEXT_SIGNING_KEY=
QSTASH_URL=

# Feature flags / runtime
CACHE_ENABLED=true
CACHE_TTL=300
CACHE_MAX_SIZE=1000
CACHE_PREFIX=comicwise:
QUEUE_ENABLED=false
QUEUE_CONCURRENCY=4

# Sentry
SENTRY_DSN=
SENTRY_ORG=
SENTRY_PROJECT=
SENTRY_AUTH_TOKEN=
SENTRY_ENABLE_TRACING=false
SENTRY_TRACES_SAMPLE_RATE=0.1

# Next.js specific
NEXT_ENABLE_CACHE_COMPONENTS=0 # set 1 to enable experimental cacheComponents after auditing dynamic routes
NEXT_PUBLIC_SENTRY_DSN=

# Safety / Local dev helpers
SKIP_ENV_VALIDATION=false
# ═══════════════════════════════════════════════════════════════════════════
# ComicWise Environment Configuration
# ═══════════════════════════════════════════════════════════════════════════
# Copy this file to `.env.local` for local development and fill in secrets.
# Required variables must be set; optional variables can remain empty.
# ═══════════════════════════════════════════════════════════════════════════

# ═══════════════════════════════════════════════════════════════════════════
# APPLICATION CONFIGURATION (Required)
# ═══════════════════════════════════════════════════════════════════════════
NODE_ENV=development
PORT=3000
NEXT_PUBLIC_APP_URL=http://localhost:3000

# ═══════════════════════════════════════════════════════════════════════════
# DATABASE CONFIGURATION (Required)
# ═══════════════════════════════════════════════════════════════════════════
# PostgreSQL connection string (local development)
DATABASE_URL="postgresql://<DB_USER>:<DB_PASSWORD>@<DB_HOST>:<DB_PORT>/<DB_NAME>"

# Alternative: Neon PostgreSQL (optional, if using cloud database)
NEON_DATABASE_URL=

# ═══════════════════════════════════════════════════════════════════════════
# AUTHENTICATION CONFIGURATION (Required)
# ═══════════════════════════════════════════════════════════════════════════
# Auth secret must be at least 32 characters (use: openssl rand -base64 32)
AUTH_SECRET="<REDACTED_AUTH_SECRET>"
AUTH_URL=http://localhost:3000

# ═══════════════════════════════════════════════════════════════════════════
# OAUTH PROVIDERS (Optional)
# ═══════════════════════════════════════════════════════════════════════════
# Google OAuth
AUTH_GOOGLE_CLIENT_ID=
AUTH_GOOGLE_CLIENT_SECRET=

# GitHub OAuth
AUTH_GITHUB_CLIENT_ID=
AUTH_GITHUB_CLIENT_SECRET=

# ═══════════════════════════════════════════════════════════════════════════
# FILE UPLOAD CONFIGURATION (Required)
# ═══════════════════════════════════════════════════════════════════════════
# Provider: local | imagekit | cloudinary | aws
# - local: Store files in public/uploads (development, no setup needed)
# - imagekit: ImageKit.io (free tier available, 20GB bandwidth/month)
# - cloudinary: Cloudinary (free tier available, 25GB storage)
# - aws: AWS S3 (pay-as-you-go pricing)
UPLOAD_PROVIDER=local

# ImageKit Configuration (optional - for cloud image hosting)
# Get free account at https://imagekit.io/
IMAGEKIT_PUBLIC_KEY="<REDACTED_IMAGEKIT_PUBLIC_KEY>"
IMAGEKIT_PRIVATE_KEY="<REDACTED_IMAGEKIT_PRIVATE_KEY>"
IMAGEKIT_URL_ENDPOINT="<REDACTED_IMAGEKIT_URL_ENDPOINT>"

# Cloudinary Configuration (optional - alternative image hosting)
# Get free account at https://cloudinary.com/
CLOUDINARY_CLOUD_NAME="<REDACTED_CLOUDINARY_CLOUD_NAME>"
CLOUDINARY_API_KEY="<REDACTED_CLOUDINARY_API_KEY>"
CLOUDINARY_API_SECRET="<REDACTED_CLOUDINARY_API_SECRET>"

# AWS S3 Configuration (optional - for S3-based uploads)
# Get credentials from: https://console.aws.amazon.com/
AWS_REGION=
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_S3_BUCKET_NAME=

# ═══════════════════════════════════════════════════════════════════════════
# EMAIL CONFIGURATION (Optional - for email verification & notifications)
# ═══════════════════════════════════════════════════════════════════════════
# SMTP Server (local development: use MailHog or smtp4dev)
EMAIL_SERVER_HOST="<SMTP_HOST>"
EMAIL_SERVER_PORT="<SMTP_PORT>"
EMAIL_SERVER_USER="<REDACTED_EMAIL_USER>"
EMAIL_SERVER_PASSWORD="<REDACTED_EMAIL_PASSWORD>"
EMAIL_FROM="<SENDER_EMAIL>"
EMAIL_SECURE=false

# Legacy SMTP Configuration (backwards compatibility)
# SMTP_HOST=
# SMTP_PORT=
# SMTP_USER=
# SMTP_PASSWORD=
# SMTP_FROM=
# SMTP_SECURE=

# ═══════════════════════════════════════════════════════════════════════════
# REDIS CONFIGURATION (Optional - for caching & background jobs)
# ═══════════════════════════════════════════════════════════════════════════
# Local Redis (development)
REDIS_HOST="<REDIS_HOST>"
REDIS_PORT="<REDIS_PORT>"
REDIS_PASSWORD="<REDACTED_REDIS_PASSWORD>"
REDIS_DB="<REDIS_DB>"
REDIS_TLS_ENABLED="<REDIS_TLS_ENABLED>"

# Redis URL (alternative connection string)
REDIS_URL=

# Upstash Redis REST API (optional - managed Redis service)
UPSTASH_REDIS_REST_URL="<UPSTASH_REDIS_REST_URL>"
UPSTASH_REDIS_REST_TOKEN="<REDACTED_UPSTASH_TOKEN>"

# ═══════════════════════════════════════════════════════════════════════════
# BACKGROUND JOBS CONFIGURATION (Optional - QStash/Upstash)
# ═══════════════════════════════════════════════════════════════════════════
# QStash for scheduled/async jobs
QSTASH_TOKEN="<REDACTED_QSTASH_TOKEN>"
QSTASH_CURRENT_SIGNING_KEY="<REDACTED_QSTASH_CURRENT_SIGNING_KEY>"
QSTASH_NEXT_SIGNING_KEY="<REDACTED_QSTASH_NEXT_SIGNING_KEY>"
QSTASH_URL="<QSTASH_URL>"

# ═══════════════════════════════════════════════════════════════════════════
# CACHE CONFIGURATION (Optional - for Redis caching)
# ═══════════════════════════════════════════════════════════════════════════
CACHE_ENABLED=true
CACHE_TTL=3600
CACHE_MAX_SIZE=100
CACHE_PREFIX="comicwise:"

# ═══════════════════════════════════════════════════════════════════════════
# QUEUE CONFIGURATION (Optional - for background jobs)
# ═══════════════════════════════════════════════════════════════════════════
QUEUE_ENABLED=true
QUEUE_CONCURRENCY=5
QUEUE_MAX_RETRIES=3
QUEUE_RETRY_DELAY=60000

# ═══════════════════════════════════════════════════════════════════════════
# MONITORING & HEALTH (Optional - for system monitoring)
# ═══════════════════════════════════════════════════════════════════════════
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=300000
ENABLE_METRICS=true
ENABLE_TRACING=false

# ═══════════════════════════════════════════════════════════════════════════
# THEMING CONFIGURATION (Optional - for theme system)
# ═══════════════════════════════════════════════════════════════════════════
DEFAULT_THEME=light
ENABLE_THEME_SWITCHING=true

# ═══════════════════════════════════════════════════════════════════════════
# RATE LIMITING (Optional - for API rate limiting)
# ═══════════════════════════════════════════════════════════════════════════
RATE_LIMIT_ENABLED=true
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_WINDOW_MS=60000

# ═══════════════════════════════════════════════════════════════════════════
# DEVELOPMENT UTILITIES (Optional)
# ═══════════════════════════════════════════════════════════════════════════
CUSTOM_PASSWORD=
DEBUG=false
VERBOSE_LOGGING=false
LOG_LEVEL=info

# ═══════════════════════════════════════════════════════════════════════════
# CONFIGURATION NOTES
# ═══════════════════════════════════════════════════════════════════════════
# 1. REQUIRED VARIABLES:
#    - DATABASE_URL: PostgreSQL connection string
#    - AUTH_SECRET: Must be 32+ characters (generate with: openssl rand -base64 32)
#    - AUTH_URL: Application URL (http://localhost:3000 for dev)
#    - NEXT_PUBLIC_APP_URL: Public-facing app URL
#
# 2. OPTIONAL VARIABLES:
#    - OAuth providers (AUTH_GOOGLE_*, AUTH_GITHUB_*)
#    - Email service (EMAIL_*)
#    - Image hosting (IMAGEKIT_*, CLOUDINARY_*)
#    - Background jobs (QSTASH_*)
#    - Redis services (UPSTASH_*, REDIS_*)
#
# 3. DEVELOPMENT SETUP:
#    - For email: Use MailHog (http://localhost:1025) or smtp4dev
#    - For Redis: Run with Docker: docker run -p 6379:6379 redis:latest
#    - For Database: Use Docker Compose: docker-compose up postgres
#
# 4. PRODUCTION DEPLOYMENT:
#    - All required variables must be set
#    - Use strong AUTH_SECRET (min 32 chars)
#    - Use production database URL
#    - Configure real email service
#    - Enable TLS for Redis connections
#    - Set up proper OAuth credentials
